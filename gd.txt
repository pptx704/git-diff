"[{\"hunks\":[{\"content\":\"@@ -32,6 +32,7 @@\",\"oldStart\":32,\"newStart\":32,\"oldLines\":6,\"newLines\":7,\"changes\":[{\"content\":\"        <dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":32,\"newLineNumber\":32},{\"content\":\"            <groupId>org.springframework.boot</groupId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":33,\"newLineNumber\":33},{\"content\":\"            <artifactId>spring-boot-starter-test</artifactId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":34,\"newLineNumber\":34},{\"content\":\"            <scope>test</scope>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":35},{\"content\":\"        </dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":35,\"newLineNumber\":36},{\"content\":\"        <dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":36,\"newLineNumber\":37},{\"content\":\"            <groupId>org.postgresql</groupId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":37,\"newLineNumber\":38}]},{\"content\":\"@@ -56,7 +57,7 @@\",\"oldStart\":56,\"newStart\":57,\"oldLines\":7,\"newLines\":7,\"changes\":[{\"content\":\"        <dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":56,\"newLineNumber\":57},{\"content\":\"            <groupId>com.h2database</groupId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":57,\"newLineNumber\":58},{\"content\":\"            <artifactId>h2</artifactId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":58,\"newLineNumber\":59},{\"content\":\"            <scope>runtime</scope>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":59},{\"content\":\"            <scope>test</scope>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":60},{\"content\":\"        </dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":60,\"newLineNumber\":61},{\"content\":\"        <dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":61,\"newLineNumber\":62},{\"content\":\"            <groupId>commons-lang</groupId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":62,\"newLineNumber\":63}]},{\"content\":\"@@ -74,12 +75,6 @@\",\"oldStart\":74,\"newStart\":75,\"oldLines\":12,\"newLines\":6,\"changes\":[{\"content\":\"            <version>1.18.20</version>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":74,\"newLineNumber\":75},{\"content\":\"            <scope>provided</scope>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":75,\"newLineNumber\":76},{\"content\":\"        </dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":76,\"newLineNumber\":77},{\"content\":\"        <dependency>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":77},{\"content\":\"            <groupId>org.junit.jupiter</groupId>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":78},{\"content\":\"            <artifactId>junit-jupiter</artifactId>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":79},{\"content\":\"            <version>5.5.2</version>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":80},{\"content\":\"            <scope>test</scope>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":81},{\"content\":\"        </dependency>\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":82},{\"content\":\"        <dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":83,\"newLineNumber\":78},{\"content\":\"            <groupId>org.junit.platform</groupId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":84,\"newLineNumber\":79},{\"content\":\"            <artifactId>junit-platform-launcher</artifactId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":85,\"newLineNumber\":80}]},{\"content\":\"@@ -109,6 +104,15 @@\",\"oldStart\":109,\"newStart\":104,\"oldLines\":6,\"newLines\":15,\"changes\":[{\"content\":\"            <artifactId>grpc-stub</artifactId>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":109,\"newLineNumber\":104},{\"content\":\"            <version>1.53.0</version>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":110,\"newLineNumber\":105},{\"content\":\"        </dependency>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":111,\"newLineNumber\":106},{\"content\":\"        <dependency>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":107},{\"content\":\"            <groupId>junit</groupId>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":108},{\"content\":\"            <artifactId>junit</artifactId>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":109},{\"content\":\"            <scope>test</scope>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":110},{\"content\":\"        </dependency>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":111},{\"content\":\"        <dependency>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":112},{\"content\":\"            <groupId>com.h2database</groupId>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":113},{\"content\":\"            <artifactId>h2</artifactId>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":114},{\"content\":\"        </dependency>\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":115},{\"content\":\"    </dependencies>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":112,\"newLineNumber\":116},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":113,\"newLineNumber\":117},{\"content\":\"    <build>\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":114,\"newLineNumber\":118}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"pom.xml\",\"newPath\":\"pom.xml\",\"oldRevision\":\"e3794e1\",\"newRevision\":\"26e2e09\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -69,7 +69,6 @@ public class DataController {\",\"oldStart\":69,\"newStart\":69,\"oldLines\":7,\"newLines\":6,\"changes\":[{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":69,\"newLineNumber\":69},{\"content\":\"        return convertToDoctorWithTimeSlotsResponse(doctors, date);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":70,\"newLineNumber\":70},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":71,\"newLineNumber\":71},{\"content\":\"\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":72},{\"content\":\"    @GetMapping(\\\"/doctors\\\")\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":73,\"newLineNumber\":72},{\"content\":\"    private List<DoctorWithTimeSlotsResponse> getFilteredDoctors(\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":74,\"newLineNumber\":73},{\"content\":\"            @RequestParam(name = \\\"speciality\\\") String specializationId,\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":75,\"newLineNumber\":74}]},{\"content\":\"@@ -80,6 +79,7 @@ public class DataController {\",\"oldStart\":80,\"newStart\":79,\"oldLines\":6,\"newLines\":7,\"changes\":[{\"content\":\"        return convertToDoctorWithTimeSlotsResponse(doctors, date);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":80,\"newLineNumber\":79},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":81,\"newLineNumber\":80},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":82,\"newLineNumber\":81},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":82},{\"content\":\"    @Operation(summary = \\\"Get all the appointments\\\", description = \\\"Returns a list of all the user's appointment including past or future (or both depending on the query params)\\\")\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":83,\"newLineNumber\":83},{\"content\":\"    @ApiResponses(value = {\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":84,\"newLineNumber\":84},{\"content\":\"            @ApiResponse(responseCode = \\\"200\\\", description = \\\"Appointments list\\\"),\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":85,\"newLineNumber\":85}]},{\"content\":\"@@ -183,6 +183,7 @@ public class DataController {\",\"oldStart\":183,\"newStart\":183,\"oldLines\":6,\"newLines\":7,\"changes\":[{\"content\":\"                        possibleAppointment.setDoctorSpecialization(doctorService.getSpecializationName(query.getInfermedicaId()));\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":183,\"newLineNumber\":183},{\"content\":\"                        possibleAppointment.setLatitude(doctor.getAddress().getCoordinates().getXCoordinate());\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":184,\"newLineNumber\":184},{\"content\":\"                        possibleAppointment.setLongitude(doctor.getAddress().getCoordinates().getYCoordinate());\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":185,\"newLineNumber\":185},{\"content\":\"                        possibleAppointment.setPatientsAtThisTime(appointmentService.getPatientsAtThisTime(doctor.getId(), timeSlot, date));\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":186},{\"content\":\"                        if (query.getLatitude() != null && query.getLongitude() != null)\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":186,\"newLineNumber\":187},{\"content\":\"                            possibleAppointment.setDistanceAway(doctorService.getDistance(doctor, query.getLatitude(), query.getLongitude()) / 1000);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":187,\"newLineNumber\":188},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":188,\"newLineNumber\":189}]},{\"content\":\"@@ -219,7 +220,7 @@ public class DataController {\",\"oldStart\":219,\"newStart\":220,\"oldLines\":7,\"newLines\":7,\"changes\":[{\"content\":\"            TimeSlot timeSlot = new TimeSlot(Timestamp.from(appointment.getStart().toInstant()),\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":219,\"newLineNumber\":220},{\"content\":\"                    Timestamp.from(appointment.getFinish().toInstant()));\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":220,\"newLineNumber\":221},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":221,\"newLineNumber\":222},{\"content\":\"            String userId = (String) request.getAttribute(\\\"userId\\\");\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":222},{\"content\":\"            String userId = \\\"123\\\";//(String) request.getAttribute(\\\"userId\\\");\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":223},{\"content\":\"            return appointmentService.makeAppointment(appointment.getDoctorId(), userId, timeSlot);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":223,\"newLineNumber\":224},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":224,\"newLineNumber\":225},{\"content\":\"        }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":225,\"newLineNumber\":226}]},{\"content\":\"@@ -253,12 +254,13 @@ public class DataController {\",\"oldStart\":253,\"newStart\":254,\"oldLines\":12,\"newLines\":13,\"changes\":[{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":253,\"newLineNumber\":254},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":254,\"newLineNumber\":255},{\"content\":\"    @GetMapping(\\\"/verify\\\")\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":255,\"newLineNumber\":256},{\"content\":\"    private String verify(@RequestHeader(HttpHeaders.AUTHORIZATION) String token) {\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":256},{\"content\":\"        try {\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":257},{\"content\":\"            return authClient.extractId(token);\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":258},{\"content\":\"        } catch (Exception ex) {\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":259},{\"content\":\"            return ex.getMessage();\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":260},{\"content\":\"        }\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":261},{\"content\":\"    private String verify() {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":257},{\"content\":\"//        try {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":258},{\"content\":\"//            return authClient.extractId(token);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":259},{\"content\":\"//        } catch (Exception ex) {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":260},{\"content\":\"//            return ex.getMessage();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":261},{\"content\":\"//        }\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":262},{\"content\":\"        return \\\"ok\\\";\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":263},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":262,\"newLineNumber\":264},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":263,\"newLineNumber\":265},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":264,\"newLineNumber\":266}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/controller/DataController.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/controller/DataController.java\",\"oldRevision\":\"6e39f57\",\"newRevision\":\"1b7118a\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -26,4 +26,5 @@ public class PossibleAppointmentBriefInfo {\",\"oldStart\":26,\"newStart\":26,\"oldLines\":4,\"newLines\":5,\"changes\":[{\"content\":\"    private Double latitude;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":26,\"newLineNumber\":26},{\"content\":\"    private Double longitude;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":27,\"newLineNumber\":27},{\"content\":\"    private Double distanceAway;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":28,\"newLineNumber\":28},{\"content\":\"    private Integer patientsAtThisTime;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":29},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":29,\"newLineNumber\":30}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/controller/model/response/response_model/PossibleAppointmentBriefInfo.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/controller/model/response/response_model/PossibleAppointmentBriefInfo.java\",\"oldRevision\":\"f178cfd\",\"newRevision\":\"fc76e1b\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -35,6 +35,6 @@ public class AuthClient {\",\"oldStart\":35,\"newStart\":35,\"oldLines\":6,\"newLines\":6,\"changes\":[{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":35,\"newLineNumber\":35},{\"content\":\"        channel.shutdown();\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":36,\"newLineNumber\":36},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":37,\"newLineNumber\":37},{\"content\":\"        return response.getId();\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":38},{\"content\":\"        return response.getSuccess() + \\\" \\\" +  response.getId() + \\\" \\\" + token;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":38},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":39,\"newLineNumber\":39},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":40,\"newLineNumber\":40}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/grpc/AuthClient.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/grpc/AuthClient.java\",\"oldRevision\":\"73ee1fc\",\"newRevision\":\"8f23b35\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -26,7 +26,7 @@ public class Specialization {\",\"oldStart\":26,\"newStart\":26,\"oldLines\":7,\"newLines\":7,\"changes\":[{\"content\":\"    private String description;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":26,\"newLineNumber\":26},{\"content\":\"    private String infermedicaId;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":27,\"newLineNumber\":27},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":28,\"newLineNumber\":28},{\"content\":\"    @ManyToMany(mappedBy = \\\"specializations\\\")\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":29},{\"content\":\"    @ManyToMany(mappedBy = \\\"specializations\\\", cascade = CascadeType.ALL)\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":29},{\"content\":\"    @JsonIgnore\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":30,\"newLineNumber\":30},{\"content\":\"    private List<Doctor> doctors;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":31,\"newLineNumber\":31},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":32,\"newLineNumber\":32}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/model/Specialization.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/model/Specialization.java\",\"oldRevision\":\"96af728\",\"newRevision\":\"72c744c\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -3,12 +3,15 @@ package org.ayoto.data_server.repository;\",\"oldStart\":3,\"newStart\":3,\"oldLines\":12,\"newLines\":15,\"changes\":[{\"content\":\"import org.ayoto.data_server.model.Doctor;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":3,\"newLineNumber\":3},{\"content\":\"import org.ayoto.data_server.model.Specialization;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":4,\"newLineNumber\":4},{\"content\":\"import org.springframework.data.jpa.repository.JpaRepository;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":5,\"newLineNumber\":5},{\"content\":\"import org.springframework.data.jpa.repository.Query;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":6},{\"content\":\"import org.springframework.stereotype.Repository;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":6,\"newLineNumber\":7},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":7,\"newLineNumber\":8},{\"content\":\"import javax.transaction.Transactional;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":9},{\"content\":\"import java.util.List;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":8,\"newLineNumber\":10},{\"content\":\"import java.util.UUID;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":9,\"newLineNumber\":11},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":10,\"newLineNumber\":12},{\"content\":\"@Repository\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":11,\"newLineNumber\":13},{\"content\":\"@Transactional\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":14},{\"content\":\"public interface SpecializationRepository extends JpaRepository<Specialization, UUID> {\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":12,\"newLineNumber\":15},{\"content\":\"    Specialization findOneByInfermedicaId(String infermedicaId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":13,\"newLineNumber\":16},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":14,\"newLineNumber\":17}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/repository/SpecializationRepository.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/repository/SpecializationRepository.java\",\"oldRevision\":\"d51a14f\",\"newRevision\":\"9bbf81e\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -16,4 +16,5 @@ public interface AppointmentService {\",\"oldStart\":16,\"newStart\":16,\"oldLines\":4,\"newLines\":5,\"changes\":[{\"content\":\"    void confirmAppointment(UUID appointmentId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":16,\"newLineNumber\":16},{\"content\":\"    void cancelAppointmentConfirmation(UUID appointmentId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":17,\"newLineNumber\":17},{\"content\":\"    List<Appointment> getAppointments(String userId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":18,\"newLineNumber\":18},{\"content\":\"    Integer getPatientsAtThisTime(UUID doctorId, TimeSlot possibleTimeSlot, Date date);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":19},{\"content\":\"}\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":19,\"newLineNumber\":20}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/service/AppointmentService.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/service/AppointmentService.java\",\"oldRevision\":\"535673e\",\"newRevision\":\"9820938\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -52,7 +52,6 @@ public class AppointmentServiceImpl implements AppointmentService {\",\"oldStart\":52,\"newStart\":52,\"oldLines\":7,\"newLines\":6,\"changes\":[{\"content\":\"        Doctor doctor = new Doctor();\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":52,\"newLineNumber\":52},{\"content\":\"        doctor.setId(doctorId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":53,\"newLineNumber\":53},{\"content\":\"        appointment.setDoctor(doctor);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":54,\"newLineNumber\":54},{\"content\":\"//        UUID uuid5 = UUID5.fromUTF8(userId.toString());\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":55},{\"content\":\"        appointment.setUserId(userId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":56,\"newLineNumber\":55},{\"content\":\"        appointment.setConfirmed(false);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":57,\"newLineNumber\":56},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":58,\"newLineNumber\":57}]},{\"content\":\"@@ -81,6 +80,19 @@ public class AppointmentServiceImpl implements AppointmentService {\",\"oldStart\":81,\"newStart\":80,\"oldLines\":6,\"newLines\":19,\"changes\":[{\"content\":\"        return appointmentRepository.findAppointmentsByUserId(userId);\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":81,\"newLineNumber\":80},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":82,\"newLineNumber\":81},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":83,\"newLineNumber\":82},{\"content\":\"    @Override\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":83},{\"content\":\"    public Integer getPatientsAtThisTime(UUID doctorId, TimeSlot possibleTimeSlot, Date date) {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":84},{\"content\":\"        List<TimeSlot> timeSlots = getExistingAppointments(doctorId, date);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":85},{\"content\":\"        int count = 0;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":86},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":87},{\"content\":\"        for (TimeSlot timeSlot : timeSlots) {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":88},{\"content\":\"            if (intersects(timeSlot, possibleTimeSlot))\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":89},{\"content\":\"                count++;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":90},{\"content\":\"        }\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":91},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":92},{\"content\":\"        return count;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":93},{\"content\":\"    }\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":94},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":95},{\"content\":\"    private void changeAppointmentConfirmationStatus(UUID appointmentId, boolean newStatus) {\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":84,\"newLineNumber\":96},{\"content\":\"        Appointment appointment = appointmentRepository.findById(appointmentId)\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":85,\"newLineNumber\":97},{\"content\":\"                .orElseThrow(() ->\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":86,\"newLineNumber\":98}]},{\"content\":\"@@ -126,7 +138,7 @@ public class AppointmentServiceImpl implements AppointmentService {\",\"oldStart\":126,\"newStart\":138,\"oldLines\":7,\"newLines\":7,\"changes\":[{\"content\":\"        }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":126,\"newLineNumber\":138},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":127,\"newLineNumber\":139},{\"content\":\"        Set<TimeSlot> unavailableTimeSlots = new HashSet<>(getExceptionTimeSlots(doctorId, date, false));\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":128,\"newLineNumber\":140},{\"content\":\"        unavailableTimeSlots.addAll(getExistingAppointments(doctorId, date));\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":129},{\"content\":\"        // unavailableTimeSlots.addAll(getExistingAppointments(doctorId, date));\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":141},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":130,\"newLineNumber\":142},{\"content\":\"        // excluding all the unavailable areas from the time slots\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":131,\"newLineNumber\":143},{\"content\":\"        while (unavailableTimeSlots.size() != 0) {\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":132,\"newLineNumber\":144}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/service/impl/AppointmentServiceImpl.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/service/impl/AppointmentServiceImpl.java\",\"oldRevision\":\"52bef47\",\"newRevision\":\"5bd14e1\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -2,6 +2,7 @@ package org.ayoto.data_server.service.impl;\",\"oldStart\":2,\"newStart\":2,\"oldLines\":6,\"newLines\":7,\"changes\":[{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":2,\"newLineNumber\":2},{\"content\":\"import lombok.AllArgsConstructor;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":3,\"newLineNumber\":3},{\"content\":\"import org.ayoto.data_server.model.Doctor;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":4,\"newLineNumber\":4},{\"content\":\"import org.ayoto.data_server.model.Specialization;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":5},{\"content\":\"import org.ayoto.data_server.repository.AddressRepository;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":5,\"newLineNumber\":6},{\"content\":\"import org.ayoto.data_server.repository.DoctorRepository;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":6,\"newLineNumber\":7},{\"content\":\"import org.ayoto.data_server.repository.SpecializationRepository;\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":7,\"newLineNumber\":8}]},{\"content\":\"@@ -36,7 +37,8 @@ public class DoctorServiceImpl implements DoctorService {\",\"oldStart\":36,\"newStart\":37,\"oldLines\":7,\"newLines\":8,\"changes\":[{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":36,\"newLineNumber\":37},{\"content\":\"    @Override\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":37,\"newLineNumber\":38},{\"content\":\"    public List<Doctor> getDoctorsBySpecialization(String infermedicaId) {\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":38,\"newLineNumber\":39},{\"content\":\"        return specializationRepository.findOneByInfermedicaId(infermedicaId).getDoctors();\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":39},{\"content\":\"        Specialization specialization = specializationRepository.findOneByInfermedicaId(infermedicaId);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":40},{\"content\":\"        return specialization.getDoctors();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":41},{\"content\":\"    }\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":40,\"newLineNumber\":42},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":41,\"newLineNumber\":43},{\"content\":\"    @Override\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":42,\"newLineNumber\":44}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":true,\"oldPath\":\"src/main/java/org/ayoto/data_server/service/impl/DoctorServiceImpl.java\",\"newPath\":\"src/main/java/org/ayoto/data_server/service/impl/DoctorServiceImpl.java\",\"oldRevision\":\"a6f870a\",\"newRevision\":\"c5029a9\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -6,6 +6,7 @@ spring.datasource.username=doadmin\",\"oldStart\":6,\"newStart\":6,\"oldLines\":6,\"newLines\":7,\"changes\":[{\"content\":\"spring.datasource.driverClassName=org.postgresql.Driver\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":6,\"newLineNumber\":6},{\"content\":\"spring.jpa.hibernate.ddl-auto=update\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":7,\"newLineNumber\":7},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":8,\"newLineNumber\":8},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":9},{\"content\":\"springdoc.api-docs.path=/dataserver/v3/api-docs\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":9,\"newLineNumber\":10},{\"content\":\"sprindoc.swagger-ui.config-url=/dataserver/v3/api-docs/swagger-config\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":10,\"newLineNumber\":11},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":11,\"newLineNumber\":12}]},{\"content\":\"@@ -17,4 +18,4 @@ grpc.server.address=rpcauth.backend\",\"oldStart\":17,\"newStart\":18,\"oldLines\":4,\"newLines\":4,\"changes\":[{\"content\":\" #rpc.ayoto.health/auth\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":17,\"newLineNumber\":18},{\"content\":\"grpc.server.port=50051\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":18,\"newLineNumber\":19},{\"content\":\"\",\"type\":\"normal\",\"isNormal\":true,\"oldLineNumber\":19,\"newLineNumber\":20},{\"content\":\"controller.endpoints.userCheck=/appointments,/appointment\",\"type\":\"delete\",\"isDelete\":true,\"lineNumber\":20},{\"content\":\"controller.endpoints.userCheck=/appointments,/appointment\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":21}]}],\"oldEndingNewLine\":false,\"newEndingNewLine\":true,\"oldPath\":\"src/main/resources/application.properties\",\"newPath\":\"src/main/resources/application.properties\",\"oldRevision\":\"28e853b\",\"newRevision\":\"d99c680\",\"newMode\":\"100644\",\"oldMode\":\"100644\",\"type\":\"modify\"},{\"hunks\":[{\"content\":\"@@ -0,0 +1,84 @@\",\"oldStart\":0,\"newStart\":1,\"oldLines\":1,\"newLines\":84,\"changes\":[{\"content\":\"package org.ayoto.data_server;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":1},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":2},{\"content\":\"import com.fasterxml.jackson.databind.ObjectMapper;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":3},{\"content\":\"import lombok.AllArgsConstructor;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":4},{\"content\":\"import lombok.RequiredArgsConstructor;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":5},{\"content\":\"import org.ayoto.data_server.controller.model.response.response_model.DoctorWithTimeSlotsResponse;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":6},{\"content\":\"import org.ayoto.data_server.model.Address;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":7},{\"content\":\"import org.ayoto.data_server.model.Doctor;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":8},{\"content\":\"import org.ayoto.data_server.repository.DoctorRepository;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":9},{\"content\":\"import org.h2.tools.Server;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":10},{\"content\":\"import org.json.JSONObject;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":11},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":12},{\"content\":\"import org.junit.jupiter.api.Assertions;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":13},{\"content\":\"import org.junit.jupiter.api.BeforeEach;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":14},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":15},{\"content\":\"import org.junit.jupiter.api.Test;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":16},{\"content\":\"import org.springframework.beans.factory.annotation.Autowired;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":17},{\"content\":\"import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":18},{\"content\":\"import org.springframework.boot.test.context.SpringBootTest;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":19},{\"content\":\"import org.springframework.context.annotation.Profile;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":20},{\"content\":\"import org.springframework.core.io.FileSystemResource;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":21},{\"content\":\"import org.springframework.core.io.support.EncodedResource;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":22},{\"content\":\"import org.springframework.http.MediaType;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":23},{\"content\":\"import org.springframework.jdbc.core.JdbcTemplate;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":24},{\"content\":\"import org.springframework.jdbc.datasource.init.ScriptUtils;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":25},{\"content\":\"import org.springframework.test.context.TestPropertySource;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":26},{\"content\":\"import org.springframework.test.context.junit4.SpringRunner;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":27},{\"content\":\"import org.springframework.test.web.servlet.MockMvc;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":28},{\"content\":\"import org.springframework.test.web.servlet.MvcResult;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":29},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":30},{\"content\":\"import javax.sql.DataSource;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":31},{\"content\":\"import java.nio.charset.StandardCharsets;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":32},{\"content\":\"import java.sql.Connection;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":33},{\"content\":\"import java.sql.SQLException;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":34},{\"content\":\"import java.util.UUID;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":35},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":36},{\"content\":\"import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":37},{\"content\":\"import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":38},{\"content\":\"import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":39},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":40},{\"content\":\"@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":41},{\"content\":\"@AutoConfigureMockMvc\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":42},{\"content\":\"@TestPropertySource(value = \\\"classpath:application-test.properties\\\")\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":43},{\"content\":\"public class IntegrationTests {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":44},{\"content\":\"    @Autowired\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":45},{\"content\":\"    private MockMvc mockMvc;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":46},{\"content\":\"    @Autowired\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":47},{\"content\":\"    private JdbcTemplate jdbcTemplate;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":48},{\"content\":\"    @Autowired\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":49},{\"content\":\"    private DataSource dataSource;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":50},{\"content\":\"    @Autowired\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":51},{\"content\":\"    private DoctorRepository doctorRepository;\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":52},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":53},{\"content\":\"    @BeforeEach\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":54},{\"content\":\"    void setUp() throws SQLException {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":55},{\"content\":\"//        Doctor doctor1 = new Doctor();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":56},{\"content\":\"//        doctor1.setId(UUID.randomUUID());\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":57},{\"content\":\"//        Address address = new Address();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":58},{\"content\":\"//        address\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":59},{\"content\":\"//        doctor1.setAddress();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":60},{\"content\":\"//        doctorRepository.\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":61},{\"content\":\"        Server.createWebServer(\\\"-web\\\", \\\"-webAllowOthers\\\", \\\"-webPort\\\", \\\"8082\\\")\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":62},{\"content\":\"                .start();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":63},{\"content\":\"        Connection connection = dataSource.getConnection();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":64},{\"content\":\"        ScriptUtils.executeSqlScript(connection,\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":65},{\"content\":\"                new EncodedResource(\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":66},{\"content\":\"                        new FileSystemResource(\\\"src/test/resources/dump.sql\\\"),\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":67},{\"content\":\"                        StandardCharsets.UTF_8));\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":68},{\"content\":\"    }\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":69},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":70},{\"content\":\"    @Test\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":71},{\"content\":\"    public void checkDoctors() throws Exception {\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":72},{\"content\":\"        String response = mockMvc.perform(get(\\\"/doctors\\\")\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":73},{\"content\":\"                        .param(\\\"speciality\\\",\\\"sp_12\\\")\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":74},{\"content\":\"                        .param(\\\"date\\\", \\\"2023-07-23\\\"))\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":75},{\"content\":\"                .andExpect(status().isOk())\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":76},{\"content\":\"                .andReturn()\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":77},{\"content\":\"                .getResponse()\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":78},{\"content\":\"                .getContentAsString();\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":79},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":80},{\"content\":\"        DoctorWithTimeSlotsResponse[] doctors = new ObjectMapper().readValue(response, DoctorWithTimeSlotsResponse[].class);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":81},{\"content\":\"        Assertions.assertEquals(123, doctors.length);\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":82},{\"content\":\"    }\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":83},{\"content\":\"}\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":84}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":false,\"oldPath\":\"/dev/null\",\"newPath\":\"src/test/java/org/ayoto/data_server/IntegrationTests.java\",\"newMode\":\"100644\",\"oldRevision\":\"0000000\",\"newRevision\":\"fb4650c\",\"type\":\"add\"},{\"hunks\":[{\"content\":\"@@ -0,0 +1,10 @@\",\"oldStart\":0,\"newStart\":1,\"oldLines\":1,\"newLines\":10,\"changes\":[{\"content\":\"spring.datasource.url=jdbc:h2:mem:testdb\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":1},{\"content\":\"spring.datasource.driverClassName=org.h2.Driver\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":2},{\"content\":\"spring.datasource.username=sa\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":3},{\"content\":\"spring.datasource.password=\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":4},{\"content\":\"spring.jpa.hibernate.ddl-auto=update\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":5},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":6},{\"content\":\"spring.h2.console.enabled=true\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":7},{\"content\":\"spring.h2.console.path=/h2-console\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":8},{\"content\":\"\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":9},{\"content\":\"spring.jpa.show-sql=true\",\"type\":\"insert\",\"isInsert\":true,\"lineNumber\":10}]}],\"oldEndingNewLine\":true,\"newEndingNewLine\":false,\"oldPath\":\"/dev/null\",\"newPath\":\"src/test/resources/application-test.properties\",\"newMode\":\"100644\",\"oldRevision\":\"0000000\",\"newRevision\":\"6f56a2a\",\"type\":\"add\"}]"